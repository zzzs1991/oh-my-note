## elk日志收集架构

---

#### 一.架构介绍

##### 1.logback

> logback 继承自 log4j，它建立在有十年工业经验的日志系统之上。它比其它所有的日志系统更快并且更小，包含了许多独特并且有用的特性。

日志的生产者，我们利用它的一些配置，讲error级别日志按照一定的格式单独打印出来

日志级别：

`TRACE < DEBUG < INFO < WARN < ERROR < FATAL`

##### 2.filebeat

> ## 轻量型日志采集器
>
> 当您要面对成百上千、甚至成千上万的服务器、虚拟机和容器生成的日志时，请告别 SSH 吧。Filebeat 将为您提供一种轻量型方法，用于转发和汇总日志与文件，让简单的事情不再繁杂。

特点：

- 读取日志文件，但不做数据解析处理
- 保证数据至少被读取一次，数据不丢失
- 其他能力
  - 处理多行数据
  - json格式解析
  - 简单过滤功能

##### 3.kafka

> 一个分布式流处理平台
>
> 它可以用于两大类别的应用:
>
> 1. 构造实时流数据管道，它可以在系统或应用之间可靠地获取数据。 (相当于message queue)
> 2. 构建实时流式应用程序，对这些流数据进行转换或者影响。 (就是流处理，通过kafka stream topic和topic之间内部进行变化)

我们将它作为简单的消息队列使用

- 利用不同`topic`输送不同种类日志
- 日志量大的时候`削峰填谷`
- 将`filebeat`和`logstash`进行`解耦`

##### 4.logstash

> ## 集中、转换和存储数据
>
> Logstash 是开源的服务器端数据处理管道，能够同时从多个来源采集数据，转换数据，然后将数据发送到您最喜欢的“存储库”中。





##### 5.elasticsearch





##### 6.kibana